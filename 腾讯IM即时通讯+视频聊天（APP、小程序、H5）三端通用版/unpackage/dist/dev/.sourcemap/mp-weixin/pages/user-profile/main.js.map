{"version":3,"sources":["uni-app:///main.js","webpack:///E:/HMTL5_Demo/myGit-wrok/Git-SourceTree/腾讯IM即时通讯+视频聊天（APP、小程序、H5）三端通用版/pages/user-profile/main.vue?11c1","webpack:///E:/HMTL5_Demo/myGit-wrok/Git-SourceTree/腾讯IM即时通讯+视频聊天（APP、小程序、H5）三端通用版/pages/user-profile/main.vue?7b36","webpack:///E:/HMTL5_Demo/myGit-wrok/Git-SourceTree/腾讯IM即时通讯+视频聊天（APP、小程序、H5）三端通用版/pages/user-profile/main.vue?3336","webpack:///E:/HMTL5_Demo/myGit-wrok/Git-SourceTree/腾讯IM即时通讯+视频聊天（APP、小程序、H5）三端通用版/pages/user-profile/main.vue?99d5","uni-app:///pages/user-profile/main.vue","webpack:///E:/HMTL5_Demo/myGit-wrok/Git-SourceTree/腾讯IM即时通讯+视频聊天（APP、小程序、H5）三端通用版/pages/user-profile/main.vue?b355","webpack:///E:/HMTL5_Demo/myGit-wrok/Git-SourceTree/腾讯IM即时通讯+视频聊天（APP、小程序、H5）三端通用版/pages/user-profile/main.vue?aa19"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,kG;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACgB;;;AAGnE;AACqL;AACrL,gBAAgB,6LAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA8qB,CAAgB,8rBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgClsB,gD;AACA;AACA,MADA,kBACA;AACA;AACA,qBADA;AAEA,0BAFA;;AAIA,GANA;AAOA;AACA;AACA,uEADA,GADA;;AAIA,sCAJA,CAPA;;AAaA,QAbA,wBAaA;AACA;AACA;AACA;AACA;AACA;AACA,UADA,CACA;AACA;AACA,OAHA;AAIA;AACA,GAvBA;AAwBA,UAxBA,sBAwBA;AACA;AACA;AACA,GA3BA;AA4BA;AACA,gBADA,wBACA,GADA,EACA,GADA,EACA;AACA;AACA;AACA;AACA,KALA;AAMA,aANA,uBAMA;AACA;AACA,mBADA;AAEA,kBAFA;AAGA,4CAHA;AAIA,iBAJA;AAKA,mBALA;AAMA,wBANA;;AAQA;AACA;AACA,mCADA;AAEA,+BAFA;AAGA;AACA,oBADA;AAEA,yBAFA;AAGA,uBAHA,EAHA;;;AASA;AACA;AACA;AACA;AACA,KA7BA;AA8BA,eA9BA,yBA8BA;AACA;AACA,KAhCA;AAiCA,gBAjCA,wBAiCA,KAjCA,EAiCA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAvCA;AAwCA;AACA,gBAzCA,0BAyCA;AACA;AACA;AACA,uBADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA;AACA;AACA,OARA,EAQA,KARA,CAQA;AACA;AACA,uBADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA,OAdA;AAeA,KAzDA;AA0DA;AACA,mBA3DA,6BA2DA;AACA;AACA;AACA,yBADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA;AACA;AACA,OARA,EAQA,KARA,CAQA;AACA;AACA,yBADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA,OAdA;AAeA,KA3EA,EA5BA,E;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAsvC,CAAgB,+sCAAG,EAAC,C;;;;;;;;;;;ACA1wC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/user-profile/main.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/user-profile/main.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./main.vue?vue&type=template&id=65059578&\"\nvar renderjs\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/user-profile/main.vue\"\nexport default component.exports","export * from \"-!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=template&id=65059578&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"container\">\n    <div class=\"info-card\">\n      <i-avatar i-class=\"avatar\" :src=\"userProfile.avatar\" />\n      <div class=\"basic\">\n        <div class=\"username\">{{userProfile.nick || '未设置'}}</div>\n        <div class=\"user-id\">用户ID：{{userProfile.userID}}</div>\n      </div>\n    </div>\n    <i-cell-group i-class=\"cell-group\">\n      <i-cell title=\"个性签名\">\n        <div slot=\"footer\" class=\"signature\">\n          {{userProfile.selfSignature || '暂无'}}\n        </div>\n      </i-cell>\n    </i-cell-group>\n    <i-cell-group i-class=\"cell-group\">\n      <i-cell title=\"加入黑名单\">\n        <switch slot=\"footer\" color=\"#006fff\" :checked=\"isInBlacklist\" @change=\"handleSwitch\"/>\n      </i-cell>\n    </i-cell-group>\n    <div class=\"action-list\"  :style=\"{'margin-bottom': isIphoneX ? '34px' : 0}\">\n      <button class=\"video-call\" @click=\"videoCall\">\n        音视频通话\n        <div class=\"new-badge\">NEW</div>\n      </button>\n      <button class=\"send-messsage\" @click=\"sendMessage\">发送消息</button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex'\nexport default {\n  data () {\n    return {\n      userProfile: {},\n      isInBlacklist: false\n    }\n  },\n  computed: {\n    ...mapState({\n      blacklist: state => state.user.blacklist\n    }),\n    ...mapGetters(['isIphoneX'])\n  },\n  onLoad ({ userID, groupID }) {\n    if (userID) {\n      if (this.blacklist.indexOf(userID) > -1) {\n        this.isInBlacklist = true\n      }\n      wx.$app.getUserProfile({ userIDList: [userID] })\n        .then((res) => {\n          this.userProfile = res.data[0]\n        })\n    }\n  },\n  onUnload () {\n    this.userProfile = {}\n    this.isInBlacklist = false\n  },\n  methods: {\n    getRandomInt (min, max) {\n      min = Math.ceil(min)\n      max = Math.floor(max)\n      return Math.floor(Math.random() * (max - min)) + min\n    },\n    videoCall () {\n      const options = {\n        call_id: '',\n        version: 3,\n        room_id: this.getRandomInt(0, 42949),\n        action: 0,\n        duration: 0,\n        invited_list: []\n      }\n      let args = JSON.stringify(options)\n      const message = wx.$app.createCustomMessage({\n        to: this.userProfile.userID,\n        conversationType: 'C2C',\n        payload: {\n          data: args,\n          description: '',\n          extension: ''\n        }\n      })\n      this.$store.commit('sendMessage', message)\n      wx.$app.sendMessage(message)\n      let url = `../call/main?args=${args}&&from=${message.from}&&to=${message.to}`\n      wx.navigateTo({url})\n    },\n    sendMessage () {\n      this.$store.dispatch('checkoutConversation', `C2C${this.userProfile.userID}`)\n    },\n    handleSwitch (event) {\n      if (event.mp.detail.value) {\n        this.addBlackList()\n      } else {\n        this.deleteBlackList()\n      }\n    },\n    // 拉黑好友\n    addBlackList () {\n      wx.$app.addToBlacklist({ userIDList: [this.userProfile.userID] }).then((res) => {\n        this.$store.commit('showToast', {\n          title: '拉黑成功',\n          icon: 'none',\n          duration: 1500\n        })\n        this.isInBlacklist = true\n        this.$store.commit('setBlacklist', res.data)\n      }).catch(() => {\n        this.$store.commit('showToast', {\n          title: '拉黑失败',\n          icon: 'none',\n          duration: 1500\n        })\n      })\n    },\n    // 取消拉黑\n    deleteBlackList () {\n      wx.$app.removeFromBlacklist({ userIDList: [this.userProfile.userID] }).then((res) => {\n        this.$store.commit('showToast', {\n          title: '取消拉黑成功',\n          icon: 'none',\n          duration: 1500\n        })\n        this.$store.commit('setBlacklist', res.data)\n        this.isInBlacklist = false\n      }).catch(() => {\n        this.$store.commit('showToast', {\n          title: '取消拉黑失败',\n          icon: 'none',\n          duration: 1500\n        })\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.cell-group\n  margin-top 10px\n.signature\n  overflow hidden\n  text-overflow ellipsis\n  white-space nowrap\n  max-width 50vw\n  color $secondary\n.container\n  height 100vh\n  background-color $background\n  .info-card\n    display flex\n    padding 16px\n    background-color $white\n    .avatar\n      width 80px\n      height 80px\n      border-radius 8px\n      margin-right 14px\n    .basic\n      .username\n        font-size 24px\n        line-height 36px\n        font-weight 600\n      .user-id\n        font-size 12px\n        color $secondary\n  .action-list\n    position fixed\n    bottom 0\n    left 0\n    display flex\n    width 100%\n    padding 12px\n    justify-content space-between\n    box-sizing border-box\n    button\n      flex-basis 40%\n      flex-grow 1\n      height 40px\n      line-height 40px\n      font-size 18px\n      margin 0\n      &:after\n        border none\n    .send-messsage\n      background-color $primary\n      color $white\n    .video-call\n      margin-right 8px\n      background-color $light-button\n      overflow visible\n      .new-badge\n        position absolute\n        right -5px\n        top -5px\n        width 34px\n        height 16px\n        line-height 16px\n        border-radius 8px\n        font-size 10px\n        color $white\n        background-color $danger\n\n</style>\n","import mod from \"-!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--11-oneOf-1-0!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--11-oneOf-1-1!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-2!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--11-oneOf-1-3!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\stylus-loader\\\\index.js??ref--11-oneOf-1-4!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-5!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--11-oneOf-1-0!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--11-oneOf-1-1!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-2!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--11-oneOf-1-3!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\stylus-loader\\\\index.js??ref--11-oneOf-1-4!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--11-oneOf-1-5!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\soft\\\\HBulider\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./main.vue?vue&type=style&index=0&lang=stylus&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1624463680642\n      var cssReload = require(\"D:/soft/HBulider/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}