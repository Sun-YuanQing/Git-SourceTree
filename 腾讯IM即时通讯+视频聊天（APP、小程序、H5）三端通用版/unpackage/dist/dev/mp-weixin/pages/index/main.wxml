<view class="chat-container _div"><block wx:if="{{allConversation.length===0}}"><view class="empty _div"><button class="empty-button" type="button" data-event-opts="{{[['tap',[['empty',['$event']]]]]}}" bindtap="__e">发起一段对话吧</button></view></block><i-modal vue-id="1a10b852-1" title="确认删除会话？" visible="{{modalVisible}}" data-event-opts="{{[['^ok',[['handleConfirm']]],['^cancel',[['handleModalShow']]]]}}" bind:ok="__e" bind:cancel="__e" bind:__l="__l"></i-modal><block wx:for="{{allConversation}}" wx:for-item="item" wx:for-index="__i0__" wx:key="conversationID"><block wx:if="{{item.type==='C2C'}}"><view data-event-opts="{{[['longpress',[['longTimePress',['$0'],[[['allConversation','conversationID',item.conversationID]]]]]],['tap',[['checkoutConversation',['$0',item.userProfile.nick||item.userProfile.userID],[[['allConversation','conversationID',item.conversationID]]]]]]]}}" class="chat _div" bindlongpress="__e" bindtap="__e"><view class="avatar-container _div"><i-avatar vue-id="{{'1a10b852-2-'+__i0__}}" src="{{item.userProfile.avatar||'/static/images/avatar.png'}}" i-class="avatar" bind:__l="__l"></i-avatar></view><view class="right _div"><view class="information _div"><view class="username _div">{{item.userProfile.nick||item.userProfile.userID}}</view><block wx:if="{{!item.lastMessage.isRevoked}}"><view class="content _div">{{item.lastMessage.messageForShow}}</view></block><block wx:else><view class="content _div"><block wx:if="{{myInfo.userID===item.lastMessage.fromAccount}}">你撤回了一条消息</block><block wx:else>{{item.lastMessage.fromAccount+"撤回了一条消息"}}</block></view></block></view><view class="time _div"><view class="last _div">{{item.lastMessage._lastTime}}</view><block wx:if="{{item.unreadCount>0}}"><view class="remain _div"><block wx:if="{{item.unreadCount>99}}"><label class="info _span">99+</label></block><block wx:else><label class="info _span">{{item.unreadCount}}</label></block></view></block></view></view></view></block><block wx:else><block wx:if="{{item.type==='GROUP'}}"><view data-event-opts="{{[['tap',[['checkoutConversation',['$0',item.groupProfile.name||item.groupProfile.ID],[[['allConversation','conversationID',item.conversationID]]]]]],['longpress',[['longTimePress',['$0'],[[['allConversation','conversationID',item.conversationID]]]]]]]}}" class="chat _div" bindtap="__e" bindlongpress="__e"><view class="avatar-container _div"><i-avatar vue-id="{{'1a10b852-3-'+__i0__}}" src="{{item.groupProfile.avatar}}" i-class="avatar" bind:__l="__l"></i-avatar></view><view class="right _div"><view class="information _div"><view class="username _div">{{item.groupProfile.name||item.groupProfile.groupID}}</view><block wx:if="{{!item.lastMessage.isRevoked}}"><view class="content _div"><block wx:if="{{item.lastMessage.fromAccount==='@TIM#SYSTEM'}}">{{item.lastMessage.messageForShow}}</block><block wx:else>{{item.lastMessage.fromAccount+"："+item.lastMessage.messageForShow}}</block></view></block><block wx:else><view class="content _div"><block wx:if="{{myInfo.userID===item.lastMessage.fromAccount}}">你撤回了一条消息</block><block wx:else>{{item.lastMessage.fromAccount+"撤回了一条消息"}}</block></view></block></view><view class="time _div"><view class="last _div">{{item.lastMessage._lastTime}}</view><block wx:if="{{item.unreadCount>0}}"><view class="remain _div"><block wx:if="{{item.unreadCount>99}}"><label class="info _span">99+</label></block><block wx:else><label class="info _span">{{item.unreadCount}}</label></block></view></block></view></view></view></block><block wx:else><block wx:if="{{item.type==='@TIM#SYSTEM'}}"><view data-event-opts="{{[['tap',[['checkoutNotification',['$0'],[[['allConversation','conversationID',item.conversationID]]]]]],['longpress',[['longTimePress',['$0'],[[['allConversation','conversationID',item.conversationID]]]]]]]}}" class="chat _div" bindtap="__e" bindlongpress="__e"><view class="avatar-container _div"><image class="avatar" src="/static/images/system.png"></image></view><view class="right _div"><view class="information _div"><view class="username _div">系统通知</view><view class="content _div">点击查看</view></view><view class="time _div"><view class="last _div"></view><block wx:if="{{item.unreadCount>0}}"><view class="remain _div"><block wx:if="{{item.unreadCount>99}}"><label class="info _span">99+</label></block><block wx:else><label class="info _span">{{item.unreadCount}}</label></block></view></block></view></view></view></block></block></block></block></view>